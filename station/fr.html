<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Station m√©t√©o connect√©e ‚Ä¢ Gr√©goire Desparain</title>
  <style>
    :root {
      --bg-grad-1: #0f172a;
      --bg-grad-2: #1e293b;
      --card-bg: #1e2537;
      --text-main: #f8fafc;
      --text-dim: #94a3b8;
      --accent: #38bdf8;
      --radius-xl: 1.25rem;
      --mono: "Courier New", monospace;
    }

    * {
      box-sizing: border-box;
      -webkit-font-smoothing: antialiased;
      padding: 0;
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Inter", Roboto, "Segoe UI", sans-serif;
    }

    body {
      background: radial-gradient(circle at 20% 20%, var(--bg-grad-2) 0%, var(--bg-grad-1) 60%);
      color: var(--text-main);
      line-height: 1.5;
      padding: 2rem 1rem 4rem;
      max-width: 900px;
      margin: 0 auto;
      position: relative;
    }

    header {
      margin-bottom: 2.5rem;
      position: relative;
    }

    .top-row {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      row-gap: 1rem;
      align-items: flex-start;
      position: relative;
    }

    .left-buttons {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .nav-btn {
      text-decoration: none;
      color: var(--accent);
      font-size: .9rem;
      font-weight: 500;
      background: rgba(56,189,248,.08);
      border: 1px solid rgba(56,189,248,.4);
      border-radius: var(--radius-xl);
      padding: .5rem .75rem;
      line-height: 1.2;
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      box-shadow: 0 20px 40px rgba(56,189,248,.15);
      transition: all .15s linear;
    }

    .nav-btn:hover {
      background: rgba(56,189,248,.15);
      transform: translateY(-1px) scale(1.01);
    }

    /* switch langue */
    .lang-switch {
      position: absolute;
      top: 0;
      right: 0;
      display: flex;
      gap: .5rem;
      background: rgba(148,163,184,.08);
      border: 1px solid rgba(148,163,184,.3);
      border-radius: var(--radius-xl);
      padding: .4rem .6rem;
      box-shadow: 0 20px 40px rgba(0,0,0,.6);
      font-size: .8rem;
      line-height: 1.2;
    }

    .lang-switch a {
      text-decoration: none;
      color: var(--text-main);
      display: flex;
      align-items: center;
      gap: .4rem;
      font-weight: 500;
    }

    .lang-switch a span.flag {
      font-size: 1rem;
      line-height: 1;
    }

    .lang-switch a:hover {
      text-decoration: underline;
    }

    .mini-meta {
      text-align: right;
      color: var(--text-dim);
      font-size: .8rem;
      line-height: 1.3;
      padding-right: 7rem; /* pour pas chevaucher le switch langue */
    }

    .mini-meta .role {
      color: var(--accent);
      font-weight: 500;
      font-size: .8rem;
    }

    h1 {
      color: var(--text-main);
      font-size: clamp(1.6rem, 1vw, 2rem);
      font-weight: 600;
      letter-spacing: -0.04em;
      line-height: 1.2;
      margin: 1.5rem 0 .5rem;
      display: flex;
      align-items: baseline;
      gap: .5rem;
      flex-wrap: wrap;
    }

    .pill {
      font-size: .7rem;
      font-weight: 500;
      background: rgba(148,163,184,.12);
      border: 1px solid rgba(148,163,184,.3);
      color: var(--text-dim);
      padding: .3rem .5rem;
      border-radius: var(--radius-xl);
      line-height: 1.1;
    }

    .subtitle {
      color: var(--text-dim);
      font-size: 1rem;
      max-width: 650px;
      line-height: 1.4;
    }

    section.block {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      border: 1px solid rgba(148,163,184,.15);
      box-shadow: 0 30px 80px rgba(0,0,0,.6);
      padding: 1.25rem 1.25rem 1rem;
      margin-bottom: 1.25rem;
    }

    .block h2 {
      font-size: 1rem;
      font-weight: 600;
      color: var(--text-main);
      margin-bottom: .6rem;
      display: flex;
      align-items: baseline;
      gap: .5rem;
      flex-wrap: wrap;
    }

    .block p {
      font-size: .9rem;
      color: var(--text-dim);
      margin-bottom: .8rem;
      line-height: 1.5;
    }

    ul.details-list {
      list-style: none;
      padding-left: 0;
    }

    ul.details-list li {
      margin-bottom: .5rem;
      display: flex;
      align-items: flex-start;
      gap: .5rem;
      font-size: .9rem;
      color: var(--text-dim);
      line-height: 1.4;
    }

    ul.details-list li .bullet {
      width: .5rem;
      height: .5rem;
      border-radius: 50%;
      background: var(--accent);
      margin-top: .45rem;
      box-shadow: 0 0 10px rgba(56,189,248,.8);
      flex-shrink: 0;
    }

    pre {
      background: rgba(15,23,42,.5);
      color: #e2e8f0;
      border: 1px solid rgba(56,189,248,.3);
      border-radius: var(--radius-xl);
      padding: 1rem;
      overflow-x: auto;
      font-family: var(--mono);
      font-size: .8rem;
      line-height: 1.4;
      margin-bottom: 1rem;
      box-shadow: 0 0 40px rgba(56,189,248,.15);
      white-space: pre;
    }

    code {
      font-family: var(--mono);
    }

    .center-btn-row {
      text-align: center;
      margin-top: 1rem;
    }

    .repo-link {
      display: inline-block;
      background: rgba(56,189,248,.08);
      border: 1px solid rgba(56,189,248,.4);
      color: var(--accent);
      padding: .6rem 1rem;
      border-radius: var(--radius-xl);
      text-decoration: none;
      font-weight: 500;
      font-size: .9rem;
      line-height: 1.2;
      transition: .15s;
      box-shadow: 0 20px 40px rgba(56,189,248,.15);
      min-width: 200px;
      text-align: center;
      margin: .4rem;
    }

    .repo-link:hover {
      background: rgba(56,189,248,.15);
      transform: translateY(-1px) scale(1.01);
      box-shadow: 0 24px 50px rgba(56,189,248,.28);
    }

    footer {
      text-align: center;
      color: var(--text-dim);
      font-size: .75rem;
      margin-top: 3rem;
      line-height: 1.4;
    }

    footer a {
      color: var(--accent);
      text-decoration: none;
      font-weight: 500;
    }

    @media (max-width: 480px) {
      .top-row {
        flex-direction: column;
        align-items: flex-start;
      }
      .mini-meta {
        text-align: left;
        padding-right: 0;
      }
      .lang-switch {
        position: static;
        margin-top: .75rem;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="top-row">
    <div class="left-buttons">
      <a class="nav-btn" href="/" title="Retour au portfolio">‚Üê Retour au portfolio</a>
      <a class="nav-btn" href="https://github.com/gregdespa/weather-station" target="_blank" rel="noopener noreferrer">
        üß© Voir le d√©p√¥t
      </a>
    </div>

    

    <div class="mini-meta">
      <div class="role">R√¥le : Syst√®mes embarqu√©s / Objets connect√©s</div>
      <div>Tech : Arduino + liaison radio XBee + servos</div>
      <div>2024‚Äì2025</div>
    </div>
  </div>

  <h1>
    Station m√©t√©o connect√©e
    <span class="pill">Arduino ‚Ä¢ XBee ‚Ä¢ Capteurs</span>
  </h1>

  <p class="subtitle">
    Station m√©t√©o bas√©e sur deux Arduino, avec liaison radio XBee et actionnement automatique.
    Un Arduino (√âmetteur) lit la temp√©rature, l‚Äôhumidit√©, le vent et la luminosit√©
    puis envoie ces donn√©es via XBee. L‚Äôautre Arduino (R√©cepteur) affiche les valeurs
    sur un √©cran LCD / clavier et pilote des servomoteurs pour ouvrir ou fermer les volets
    selon les conditions.
  </p>
</header>

<section class="block">
  <h2>01. Vue d‚Äôensemble <span class="pill">Architecture</span></h2>
  <p>
    Le syst√®me est s√©par√© en deux modules physiques :
  </p>
  <ul class="details-list">
    <li>
      <span class="bullet"></span>
      <span><strong>√âmetteur (E) :</strong> lit tous les capteurs m√©t√©o et envoie les mesures via une liaison radio XBee point-√†-point.  
      C‚Äôest la ‚Äúsonde ext√©rieure‚Äù.</span>
    </li>
    <li>
      <span class="bullet"></span>
      <span><strong>R√©cepteur (R) :</strong> re√ßoit les trames XBee, affiche les valeurs en direct sur l‚Äôinterface LCD / clavier,
      et d√©cide comment bouger les servos qui commandent les stores / volets.</span>
    </li>
  </ul>

  <p>
    Toute la communication passe par deux modules XBee, donc l‚Äô√©metteur peut rester dehors
    pendant que le r√©cepteur est install√© √† l‚Äôint√©rieur, √† c√¥t√© de l‚Äôutilisateur.
  </p>

  <div class="center-btn-row">
    <a class="repo-link" href="station_meteo.pdf" target="_blank" rel="noopener noreferrer">
      üìÑ Voir le rapport (PDF)
    </a>
  </div>
</section>

<section class="block">
  <h2>02. Mesures & donn√©es <span class="pill">Surveillance m√©t√©o</span></h2>
  <ul class="details-list">
    <li>
      <span class="bullet"></span>
      <span><strong>Temp√©rature & humidit√© :</strong> capteur type DHT ‚Üí ¬∞C ambiante et humidit√© relative (%RH).</span>
    </li>
    <li>
      <span class="bullet"></span>
      <span><strong>Vitesse du vent :</strong> l‚Äôan√©mom√®tre g√©n√®re des impulsions. On compte les impulsions
      pour estimer la vitesse du vent en km/h.</span>
    </li>
    <li>
      <span class="bullet"></span>
      <span><strong>Luminosit√© :</strong> capteur LDR ‚Üí sert √† d√©cider si on doit ouvrir les volets pour laisser entrer plus de lumi√®re naturelle.</span>
    </li>
  </ul>

  <p>
    L‚Äô√âmetteur formate ces valeurs dans une trame texte l√©g√®re et l‚Äôenvoie via l‚ÄôUART XBee.
    Le R√©cepteur lit cette trame, la d√©code et met l‚Äôaffichage √† jour imm√©diatement.
  </p>
</section>

<section class="block">
  <h2>03. Interface utilisateur <span class="pill">Homme ‚Üî Machine</span></h2>
  <ul class="details-list">
    <li>
      <span class="bullet"></span>
      <span><strong>Module LCD + clavier (‚ÄúManuella‚Äù) :</strong> affiche les valeurs m√©t√©o en direct d‚Äôune fa√ßon lisible pour n‚Äôimporte qui.</span>
    </li>

    <li>
      <span class="bullet"></span>
      <span><strong>Navigation par pages :</strong> on peut faire d√©filer les √©crans (temp√©rature, humidit√©, vent, luminosit√©).
      Un capteur de geste PAJ7620 permet m√™me de changer d‚Äô√©cran sans toucher de bouton.</span>
    </li>

    <li>
      <span class="bullet"></span>
      <span><strong>Mise √† jour continue :</strong> l‚Äôaffichage se rafra√Æchit √† chaque nouvelle trame re√ßue en XBee.</span>
    </li>
  </ul>

  <p>
    Objectif : qu‚Äôun utilisateur non technique voie directement ‚Äúest-ce qu‚Äôon ouvre les volets ?‚Äù
    et pas seulement une valeur brute en volts.
  </p>
</section>

<section class="block">
  <h2>04. Actionnement automatique <span class="pill">Volets intelligents</span></h2>

  <p>
    L‚ÄôArduino R√©cepteur pilote plusieurs servomoteurs qui commandent les volets / stores.
    Les d√©cisions se basent sur les derni√®res donn√©es re√ßues :
  </p>

  <ul class="details-list">
    <li>
      <span class="bullet"></span>
      <span><strong>Temp√©rature √©lev√©e (&gt;30 ¬∞C) :</strong> volets ferm√©s pour garder la fra√Æcheur.</span>
    </li>

    <li>
      <span class="bullet"></span>
      <span><strong>Plage de confort (‚âà20‚Äì30 ¬∞C) :</strong> volets √† moiti√© ouverts.</span>
    </li>

    <li>
      <span class="bullet"></span>
      <span><strong>Faible luminosit√© :</strong> volets ouverts pour faire entrer la lumi√®re naturelle.</span>
    </li>

    <li>
      <span class="bullet"></span>
      <span><strong>Vent fort :</strong> volets ferm√©s pour √©viter les d√©g√¢ts.</span>
    </li>
  </ul>

  <p>
    Donc ce n‚Äôest pas juste ‚Äúje mesure la m√©t√©o‚Äù.  
    Le syst√®me r√©agit et modifie physiquement l‚Äôenvironnement int√©rieur.
  </p>
</section>

<section class="block">
  <h2>05. Structure du code <span class="pill">Arduino (E & R)</span></h2>

  <p>
    Le projet est s√©par√© en deux programmes Arduino :  
    <code>DESPARAIN_Station_Meteo_E.ino</code> (√âmetteur) et  
    <code>DESPARAIN_Station_Meteo_R.ino</code> (R√©cepteur).
  </p>

  <pre><code class="language-c">
// Pseudocode - √âmetteur (E)
// 1. Lire les capteurs
// 2. Construire une trame texte
// 3. Envoyer la trame via XBee

loop() {
    temp = readTemperature();
    hum  = readHumidity();
    wind = readWindSpeed();
    lux  = readLightLevel();

    // Exemple de trame : "T:23.4;H:41;W:12;L:380;"
    String frame = "T:" + temp + ";H:" + hum +
                   ";W:" + wind + ";L:" + lux + ";";

    xbeeSerial.print(frame); // envoi vers le R√©cepteur
}
  </code></pre>

  <pre><code class="language-c">
// Pseudocode - R√©cepteur (R)
// 1. Lire la trame XBee
// 2. Parser les valeurs
// 3. Mettre l'√©cran √† jour
// 4. Bouger les servos si besoin

loop() {
    if (xbeeSerial.available()) {
        String frame = xbeeSerial.readStringUntil(';');
        parseFrame(frame);        // extraire T,H,W,L
        updateLCD();
        updateServos();
    }
}
  </code></pre>

  <p>
    Cette s√©paration (E = mesure + √©mission, R = r√©ception + d√©cision + action)
    rend le syst√®me modulaire : tu peux changer les capteurs sur l‚Äô√âmetteur
    sans toucher √† l‚Äôinterface utilisateur, ou r√©√©crire les r√®gles de pilotage
    sur le R√©cepteur sans toucher √† la partie ext√©rieure.
  </p>
</section>

<section class="block">
  <h2>06. Comp√©tences acquises <span class="pill">Ce que √ßa m‚Äôa appris</span></h2>

  <ul class="details-list">
    <li>
      <span class="bullet"></span>
      <span>Liaison radio point-√†-point avec modules XBee : cr√©ation de trames, parsing c√¥t√© r√©ception, robustesse.</span>
    </li>

    <li>
      <span class="bullet"></span>
      <span>Acquisition de capteurs en temps r√©el et pilotage de servomoteurs sur Arduino.</span>
    </li>

    <li>
      <span class="bullet"></span>
      <span>Conception d‚Äôune vraie interface utilisateur (LCD + clavier + capteur de geste), pas juste un port s√©rie pour ing√©nieur.</span>
    </li>

    <li>
      <span class="bullet"></span>
      <span>Traduire des mesures physiques en actions concr√®tes sur l‚Äôenvironnement (ouverture / fermeture automatique des volets).</span>
    </li>
  </ul>
</section>

<footer>
  <p>
    R√©alis√© par Gr√©goire Desparain ‚Äî IMT Nord Europe (Mines de Douai)<br/>
    <a href="/">‚Üê Retour au portfolio</a>
  </p>
</footer>

</body>
</html>
