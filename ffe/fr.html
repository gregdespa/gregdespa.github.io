<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lecteur de R√©sultats d'Escrime ‚Ä¢ Gr√©goire Desparain</title>
  <style>
    :root {
      --bg-grad-1: #0f172a;
      --bg-grad-2: #1e293b;
      --card-bg: #1e2537;
      --text-main: #f8fafc;
      --text-dim: #94a3b8;
      --accent: #38bdf8;
      --radius-xl: 1.25rem;
      --mono: "Courier New", monospace;
    }

    * {
      box-sizing: border-box;
      -webkit-font-smoothing: antialiased;
      padding: 0;
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Inter", Roboto, "Segoe UI", sans-serif;
    }

    body {
      background: radial-gradient(circle at 20% 20%, var(--bg-grad-2) 0%, var(--bg-grad-1) 60%);
      color: var(--text-main);
      line-height: 1.5;
      padding: 2rem 1rem 4rem;
      max-width: 900px;
      margin: 0 auto;
      position: relative;
    }

    header {
      margin-bottom: 2.5rem;
      position: relative;
    }

    .top-row {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      row-gap: 1rem;
      align-items: flex-start;
    }

    .left-buttons {
      display: flex;
      gap: 0.75rem;
      flex-wrap: wrap;
    }

    .nav-btn {
      text-decoration: none;
      color: var(--accent);
      font-size: .9rem;
      font-weight: 500;
      background: rgba(56,189,248,.08);
      border: 1px solid rgba(56,189,248,.4);
      border-radius: var(--radius-xl);
      padding: .5rem .75rem;
      line-height: 1.2;
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      box-shadow: 0 20px 40px rgba(56,189,248,.15);
      transition: all .15s linear;
    }

    .nav-btn:hover {
      background: rgba(56,189,248,.15);
      transform: translateY(-1px) scale(1.01);
    }

    .mini-meta {
      text-align: right;
      color: var(--text-dim);
      font-size: .8rem;
      line-height: 1.3;
    }

    .mini-meta .role {
      color: var(--accent);
      font-weight: 500;
      font-size: .8rem;
    }

    h1 {
      color: var(--text-main);
      font-size: clamp(1.6rem, 1vw, 2rem);
      font-weight: 600;
      letter-spacing: -0.04em;
      line-height: 1.2;
      margin: 1.5rem 0 .5rem;
      display: flex;
      align-items: baseline;
      gap: .5rem;
      flex-wrap: wrap;
    }

    .pill {
      font-size: .7rem;
      font-weight: 500;
      background: rgba(148,163,184,.12);
      border: 1px solid rgba(148,163,184,.3);
      color: var(--text-dim);
      padding: .3rem .5rem;
      border-radius: var(--radius-xl);
      line-height: 1.1;
    }

    .subtitle {
      color: var(--text-dim);
      font-size: 1rem;
      max-width: 650px;
      line-height: 1.4;
    }

    section.block {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      border: 1px solid rgba(148,163,184,.15);
      box-shadow: 0 30px 80px rgba(0,0,0,.6);
      padding: 1.25rem 1.25rem 1rem;
      margin-bottom: 1.25rem;
    }

    .block h2 {
      font-size: 1rem;
      font-weight: 600;
      color: var(--text-main);
      margin-bottom: .6rem;
      display: flex;
      align-items: baseline;
      gap: .5rem;
      flex-wrap: wrap;
    }

    .block p {
      font-size: .9rem;
      color: var(--text-dim);
      margin-bottom: .8rem;
      line-height: 1.5;
    }

    ul.details-list {
      list-style: none;
      padding-left: 0;
    }

    ul.details-list li {
      margin-bottom: .5rem;
      display: flex;
      align-items: flex-start;
      gap: .5rem;
      font-size: .9rem;
      color: var(--text-dim);
      line-height: 1.4;
    }

    ul.details-list li .bullet {
      width: .5rem;
      height: .5rem;
      border-radius: 50%;
      background: var(--accent);
      margin-top: .45rem;
      box-shadow: 0 0 10px rgba(56,189,248,.8);
      flex-shrink: 0;
    }

    pre {
      background: rgba(15,23,42,.5);
      color: #e2e8f0;
      border: 1px solid rgba(56,189,248,.3);
      border-radius: var(--radius-xl);
      padding: 1rem;
      overflow-x: auto;
      font-family: var(--mono);
      font-size: .8rem;
      line-height: 1.4;
      margin-bottom: 1rem;
      box-shadow: 0 0 40px rgba(56,189,248,.15);
      white-space: pre;
    }

    code {
      font-family: var(--mono);
    }

    .repo-link {
      display: inline-block;
      background: rgba(56,189,248,.08);
      border: 1px solid rgba(56,189,248,.4);
      color: var(--accent);
      padding: .6rem 1rem;
      border-radius: var(--radius-xl);
      text-decoration: none;
      font-weight: 500;
      font-size: .9rem;
      line-height: 1.2;
      transition: .15s;
      box-shadow: 0 20px 40px rgba(56,189,248,.15);
      min-width: 180px;
      text-align: center;
    }

    .repo-link:hover {
      background: rgba(56,189,248,.15);
      transform: translateY(-1px) scale(1.01);
      box-shadow: 0 24px 50px rgba(56,189,248,.28);
    }

    footer {
      text-align: center;
      color: var(--text-dim);
      font-size: .75rem;
      margin-top: 3rem;
      line-height: 1.4;
    }

    footer a {
      color: var(--accent);
      text-decoration: none;
      font-weight: 500;
    }

    @media (max-width: 480px) {
      .top-row {
        flex-direction: column;
        align-items: flex-start;
      }
      .mini-meta {
        text-align: left;
      }
    }
  </style>
</head>
<body>

  <header>
    <div class="top-row">
      <div class="left-buttons">
        <a class="nav-btn" href="/" title="Retour au portfolio">‚Üê Retour au portfolio</a>
        <a class="nav-btn" href="https://github.com/gregdespa/resultsreader" target="_blank" rel="noopener noreferrer">üß© Voir le d√©p√¥t GitHub</a>
      </div>

      <div class="mini-meta">
        <div class="role">R√¥le : D√©veloppeur web (PHP)</div>
        <div>Client : F√©d√©ration Fran√ßaise d‚ÄôEscrime</div>
        <div>Paris ¬∑ Juin‚ÄìJuillet 2024</div>
      </div>
    </div>

    <h1>
      Lecteur de R√©sultats d‚ÄôEscrime
      <span class="pill">PHP / Parsing XML / Statistiques</span>
    </h1>

    <p class="subtitle">
      Outil web d√©velopp√© pour la F√©d√©ration Fran√ßaise d‚ÄôEscrime.  
      Il lit automatiquement les fichiers de r√©sultats officiels (exports XML),
      extrait les informations cl√©s (matchs, classements, arbitres, performances)
      et les pr√©sente sous forme de tableaux lisibles pour les entra√Æneurs.
      Le but : √©liminer toutes les manipulations Excel manuelles apr√®s chaque comp√©tition.
    </p>
  </header>

  <!-- 01 -->
  <section class="block">
    <h2>01. Contexte <span class="pill">Avant l‚Äôoutil</span></h2>
    <p>
      Apr√®s chaque comp√©tition d‚Äôescrime, la f√©d√©ration r√©cup√®re un fichier brut contenant
      tous les assauts, les poules, les tableaux d‚Äô√©limination directe, les classements,
      les arbitres, etc. Avant ce projet :
    </p>

    <ul class="details-list">
      <li>
        <span class="bullet"></span>
        <span>Les responsables ouvraient ces fichiers √† la main pour chercher qui a battu qui, avec quel score, √† quel tour.</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span>Ils copiaient/collaient les infos dans Excel pour reconstituer les classements et pr√©parer un retour aux entra√Æneurs.</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span>Chaque comp√©tition demandait une reconstruction compl√®te des tableaux. C‚Äô√©tait lent et d√©pendant de la personne dispo ce week-end-l√†.</span>
      </li>
    </ul>

    <p>
      La demande : un outil rapide, fiable, utilisable par du personnel non technique.
    </p>
  </section>

  <!-- 02 -->
  <section class="block">
    <h2>02. Objectif <span class="pill">Ce que j‚Äôai livr√©</span></h2>
    <p>
      J‚Äôai d√©velopp√© une interface web en PHP qui :
    </p>

    <ul class="details-list">
      <li>
        <span class="bullet"></span>
        <span>Analyse automatiquement les exports officiels de comp√©tition (par ex. <code>lille.xml</code>).</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span>Affiche les poules (<code>poules.php</code>), le classement final (<code>classement_f.php</code>), les feuilles de match (<code>match.php</code>), la liste des tireurs inscrits (<code>inscrits.php</code>) et la liste des arbitres (<code>arbitre.php</code>).</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span>Calcule des indicateurs de performance (victoires, √©cart de touches, etc.).</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span>Pr√©sente les r√©sultats dans des tableaux HTML propres, pr√™ts √† √™tre partag√©s avec les entra√Æneurs.</span>
      </li>
    </ul>

    <p>
      J‚Äôai fait une d√©mo en direct aupr√®s du responsable f√©d√©ral, r√©cup√©r√© leur feedback
      (quels indicateurs sont vraiment utiles pour eux), puis ajust√© le contenu et la pr√©sentation.
    </p>
  </section>

  <!-- 03 -->
  <section class="block">
    <h2>03. Approche technique <span class="pill">Comment √ßa marche</span></h2>
    <ul class="details-list">
      <li>
        <span class="bullet"></span>
        <span><strong>Source unique :</strong> un seul fichier XML (ex : <code>lille.xml</code>) contient toute la comp√©tition : poules, tireurs, arbitres, scores, classement.</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span><strong>Pages PHP d√©di√©es :</strong> chaque fichier PHP correspond √† une vue claire :
          <code>poules.php</code> pour les poules,
          <code>match.php</code> pour les matchs,
          <code>classement_f.php</code> pour le classement,
          <code>inscrits.php</code> pour les engag√©s,
          <code>arbitre.php</code> pour les arbitres.
        </span>
      </li>
      <li>
        <span class="bullet"></span>
        <span><strong>Rendu HTML :</strong> les donn√©es sont affich√©es en tableaux propres avec un style commun (<code>styles.css</code>) pour que ce soit lisible par quelqu‚Äôun qui n‚Äôest pas d√©veloppeur.</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span><strong>Pas de base de donn√©es :</strong> tout est calcul√© en m√©moire √† partir du XML ‚Üí d√©ploiement facile, r√©utilisable sur n‚Äôimporte quelle comp√©tition.</span>
      </li>
    </ul>

    <p>
      Concr√®tement : on d√©pose un nouveau fichier XML de comp√©tition dans le dossier,
      et le site est pr√™t pour cet √©v√©nement sans rien reprogrammer.
    </p>
  </section>

  <!-- 04 -->
  <section class="block">
    <h2>04. Stack technique <span class="pill">Outils</span></h2>
    <ul class="details-list">
      <li>
        <span class="bullet"></span>
        <span><strong>PHP</strong> pour la logique, le parsing et les calculs d‚Äôindicateurs</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span><strong>SimpleXML</strong> pour lire les exports XML fournis par la f√©d√©ration</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span><strong>HTML / CSS</strong> pour l‚Äôinterface visible par les coachs et les arbitres</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span><strong>Architecture modulaire</strong> (plusieurs pages PHP sp√©cialis√©es) pour obtenir des URL simples √† partager</span>
      </li>
    </ul>
  </section>

  <!-- 05 -->
  <section class="block">
    <h2>05. Impact <span class="pill">Pourquoi c‚Äôest utile</span></h2>
    <p>
      Apr√®s mise en place :
    </p>
    <ul class="details-list">
      <li>
        <span class="bullet"></span>
        <span>La f√©d√©ration peut g√©n√©rer un r√©capitulatif de comp√©tition en quelques minutes, au lieu de refaire tout √† la main sous Excel.</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span>Tous les entra√Æneurs voient la m√™me info, pr√©sent√©e de la m√™me fa√ßon ‚Äî plus de version contradictoire.</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span>Les d√©briefs d‚Äôapr√®s-comp√©tition se concentrent enfin sur la performance sportive, pas sur le m√©nage de la donn√©e.</span>
      </li>
    </ul>

    <p>
      Le projet m‚Äôa aussi appris √† travailler avec des interlocuteurs non techniques
      (encadrement f√©d√©ral, arbitres), traduire ¬´ on veut des stats ¬ª en KPIs calculables,
      et formater l‚Äôinfo comme ils en ont besoin sur le terrain.
    </p>
  </section>

  <!-- 06 -->
  <section class="block">
    <h2>06. Sp√©cification du besoin <span class="pill">√âtat des Besoins</span></h2>
    <p>
      Avant d‚Äô√©crire la moindre ligne de code, j‚Äôai r√©dig√© un <strong>√âtat des Besoins</strong>
      qui d√©crit toutes les pages attendues, les donn√©es √† afficher et la navigation.
      En pratique, j‚Äôai jou√© le r√¥le de chef de produit.
    </p>

    <ul class="details-list">
      <li>
        <span class="bullet"></span>
        <span><strong>Accueil / index.php :</strong> nom de la comp√©tition, organisateur, lieu, date,
        formule (ex : Poules ‚Üí √âlimination directe), statut en cours.</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span><strong>inscrits.php :</strong> liste des tireurs engag√©s avec nom, club, cat√©gorie, arme. Avec recherche.</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span><strong>arbitre.php :</strong> liste des arbitres affect√©s √† l‚Äô√©v√©nement (nom, club, niveau).</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span><strong>poules.php :</strong> tableaux de poules complets, avec chaque assaut, les touches donn√©es/re√ßues, les victoires, et l‚Äôarbitre de la poule.</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span><strong>classement_f.php :</strong> classement interm√©diaire et final, couleurs des m√©dailles, tour d‚Äô√©limination atteint.</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span><strong>match.php :</strong> vue d√©taill√©e d‚Äôun match ou d‚Äôune branche de tableau pour analyse avec l‚Äôentra√Æneur.</span>
      </li>
    </ul>

    <p>
      L‚Äô√âtat des Besoins inclut aussi les √©volutions futures :
    </p>

    <ul class="details-list">
      <li>
        <span class="bullet"></span>
        <span>Suivi des cartons / p√©nalit√©s par tireur.</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span>Statistiques d‚Äôarbitrage pour √©valuer les arbitres.</span>
      </li>
      <li>
        <span class="bullet"></span>
        <span>Mise en √©vidence des surprises (une t√™te de s√©rie basse bat un favori).</span>
      </li>
    </ul>

    <p style="text-align:center; margin-top:1rem;">
      <a class="repo-link" href="edb.pdf" target="_blank" rel="noopener noreferrer">
        üìÑ Consulter l‚Äô√âtat des Besoins (PDF)
      </a>
    </p>
  </section>

  <!-- 07 -->
  <section class="block">
    <h2>07. Logique PHP principale <span class="pill">Parsing XML</span></h2>
    <p>
      Ci-dessous un extrait simplifi√© de la logique utilis√©e dans <code>poules.php</code> :
      on lit l‚Äôexport XML officiel (ex : <code>lille.xml</code>), on boucle sur chaque poule,
      puis on liste tous les matchs avec le score.
    </p>

    <pre><code class="language-php">
// Charger les donn√©es de comp√©tition
$xml = simplexml_load_file("lille.xml");

// Stocker toutes les poules
$pools = [];

foreach ($xml->Poule as $poule) {
    $poolNum = (string)$poule['Num'];

    // Infos structur√©es pour cette poule
    $pools[$poolNum] = [
        "referee" => (string)$poule['Arbitre'],
        "matches" => []
    ];

    // Boucle sur chaque match de la poule
    foreach ($poule->Match as $match) {
        $fencerA = (string)$match->TireurA['Nom'];
        $fencerB = (string)$match->TireurB['Nom'];
        $scoreA  = (int)$match['ScoreA'];
        $scoreB  = (int)$match['ScoreB'];

        $pools[$poolNum]["matches"][] = [
            "a" => $fencerA,
            "b" => $fencerB,
            "sa" => $scoreA,
            "sb" => $scoreB
        ];
    }
}

// Rendu HTML de chaque poule
foreach ($pools as $num => $data) {
    echo "&lt;h2&gt;Poule " . $num . " (Arbitre : " . $data["referee"] . ")&lt;/h2&gt;";
    echo "&lt;table&gt;";
    echo "&lt;tr&gt;&lt;th&gt;Tireur A&lt;/th&gt;&lt;th&gt;Tireur B&lt;/th&gt;&lt;th&gt;Score&lt;/th&gt;&lt;/tr&gt;";

    foreach ($data["matches"] as $m) {
        $scoreLine = $m["sa"] . " - " . $m["sb"];
        echo "&lt;tr&gt;";
        echo "&lt;td&gt;" . $m["a"] . "&lt;/td&gt;";
        echo "&lt;td&gt;" . $m["b"] . "&lt;/td&gt;";
        echo "&lt;td&gt;" . $scoreLine . "&lt;/td&gt;";
        echo "&lt;/tr&gt;";
    }

    echo "&lt;/table&gt;";
}
    </code></pre>

    <p>
      Le m√™me principe est r√©utilis√© ailleurs :
      <code>classement_f.php</code> parcourt le classement final,
      <code>arbitre.php</code> parcourt les arbitres,
      <code>inscrits.php</code> parcourt les tireurs engag√©s, etc.
      Pour une nouvelle comp√©tition, il suffit de remplacer le fichier XML.
    </p>
  </section>

  <!-- 08 -->
  <section class="block" style="text-align:center;">
    <h2>08. Code source</h2>
    <p style="font-size:.9rem; color:var(--text-dim); line-height:1.4; max-width:600px; margin:0 auto 1rem;">
      Le projet complet inclut toutes les pages PHP (<code>index.php</code>, <code>poules.php</code>,
      <code>match.php</code>, <code>inscrits.php</code>, <code>arbitre.php</code>,
      <code>classement_f.php</code>) ainsi que la feuille de style commune <code>styles.css</code>.
    </p>

    <a class="repo-link"
       href="https://github.com/gregdespa/resultsreader"
       target="_blank" rel="noopener noreferrer">
      üß© Voir le d√©p√¥t GitHub
    </a>
  </section>

  <footer>
    <p>
      R√©alis√© par Gr√©goire Desparain ‚Äî IMT Nord Europe (Mines de Douai)<br/>
      <a href="/">‚Üê Retour au portfolio</a>
    </p>
  </footer>

</body>
</html>
